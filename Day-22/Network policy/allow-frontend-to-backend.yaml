# allow-frontend-to-backend.yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-frontend-to-backend
  namespace: default
spec:
  podSelector:  # Selects the pods to which this policy applies.
    matchLabels: # A map of key-value pairs to match pod labels.
      app: backend
  policyTypes:
    - Ingress  # This policy only applies to incoming traffic to the selected pods.
  ingress:  # A list of rules that allow incoming traffic.
    - from:
        - podSelector:
            matchLabels:
              app: frontend  # Allows incoming traffic from any pod with the label `app: frontend`.
      ports:
        - protocol: TCP
          port: 80  # Traffic is allowed on port 80.
